{"resourceType":"Library","extension":[{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode","valueCoding":{"system":"http://snomed.info/sct","code":"720834000","display":"Reason Code"}},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition","extension":[{"url":"libraryName","valueString":"DataRequirementHelper"},{"url":"name","valueString":"Retrieve Def2"},{"url":"statement","valueString":"define \"Retrieve Def2\":\n    [Encounter: \"Retrieve VS2\"] Retrieve"},{"url":"displaySequence","valueInteger":0}]},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition","extension":[{"url":"libraryName","valueString":"DataRequirementHelper"},{"url":"name","valueString":"Retrieve Def"},{"url":"statement","valueString":"define \"Retrieve Def\":\n  [ObservationNotDone: \"Retrieve VS\"] Retrieve\n    with \"Retrieve Def2\" Retrieve2\n      such that Retrieve.issued during Retrieve2.period\n    where ( Retrieve.notDoneReason in \"Reason VS\"\n           or Retrieve.notDoneReason ~ \"Reason Code\" )\n      and Retrieve.status = 'cancelled'"},{"url":"displaySequence","valueInteger":1}]},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition","extension":[{"url":"libraryName","valueString":"FHIRHelpers"},{"url":"name","valueString":"ToString"},{"url":"statement","valueString":"define function ToString(value uri): value.value"},{"url":"displaySequence","valueInteger":2}]}],"name":"EffectiveDataRequirements","status":"active","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/library-type","code":"module-definition"}]},"relatedArtifact":[{"type":"depends-on","display":"Library FHIRHelpers","resource":"http://fhir.org/guides/cdc/opioid-cds/Library/FHIRHelpers|4.3.000"},{"type":"depends-on","display":"Code system SNOMEDCT","resource":"http://snomed.info/sct"},{"type":"depends-on","display":"Value set Retrieve VS2","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.600.1.1624"},{"type":"depends-on","display":"Value set Retrieve VS","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.600.1.1623"},{"type":"depends-on","display":"Value set Reason VS","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.600.1.1625"}],"parameter":[{"name":"Patient","use":"out","min":0,"max":"1","type":"Resource"},{"name":"Retrieve Def2","use":"out","min":0,"max":"*","type":"Resource"},{"name":"Retrieve Def","use":"out","min":0,"max":"*","type":"Resource"}],"dataRequirement":[{"type":"Patient","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient"]},{"type":"Encounter","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"],"mustSupport":["type","period"],"codeFilter":[{"path":"type","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.600.1.1624"}]},{"type":"Observation","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observationnotdone"],"mustSupport":["code","issued","issued.value","extension","status","status.value"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.600.1.1623"}]},{"type":"Observation","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observationnotdone"],"mustSupport":["code","issued","issued.value","extension","status","status.value"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.600.1.1623"}]}]}
